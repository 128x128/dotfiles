"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4179],{2438:(e,n,i)=>{i.d(n,{L:()=>a.L});var a=i(3702)},98759:(e,n,i)=>{i.d(n,{X7:()=>d,pf:()=>l,qo:()=>t});var a=i(7073);const t=e=>`spotify:artist:${e}`,l=e=>({artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo??null}),d=({track:{uri:e,name:n,playcount:i,duration:{totalMilliseconds:t},contentRating:l,artists:{items:d},album:{coverArt:r,uri:s},playability:{playable:o}}},m)=>({uri:e,contextUri:m,totalMilliseconds:t,name:n,contentRating:l?.label||a.KS.None,isPlayable:o,playcount:parseInt(i||"0",10),artists:d.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:r?.sources?.length?r.sources[0].url:"",albumUri:s})},26272:(e,n,i)=>{i.r(n),i.d(n,{default:()=>bn});var a=i(67294),t=i(28216),l=i(51615),d=i(69518),r=i.n(d),s=i(87577),o=i(96206),m=i(90110),c=i(95661),k=i(86213),u=i(70369),v=i(42273),S=i(59482),N=i(72907),p=i(1663),g=i(55120),y=i(30947),F=i(11414),E=i(55911),b=i(32626),h=i(94233),f=i(63926),A=i(28760),C=i(18172);let L;!function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE"}(L||(L={}));const T=(0,C.ZP)(((e,n)=>{switch(n.type){case"LYRICS_LOADING":e[n.uri]={status:L.LOADING};break;case"LYRICS_LOADED":e[n.uri]={status:L.LOADED,data:{lyrics:{...n.response.lyrics}}};break;case"LYRICS_ERROR":e[n.uri]={status:L.UNAVAILABLE};break;default:throw new Error(`Unhandled lyrics action with type: ${n.type}`)}}));var I=i(87961),D=i(26991);const R={status:L.LOADING},w={status:L.UNAVAILABLE},V=a.createContext(void 0),U=({children:e,initialState:n={}})=>{const i=a.useReducer(T,n);return a.createElement(V.Provider,{value:i,children:e})},x=(e,n)=>{const i=a.useContext(V);if(void 0===i)throw new Error("useSEOLyrics must be used within a LyricsSEOProvider");if(!e||!r().isTrack(e)||n)return w;const[t,l]=i,d=t[e];return d||(l({type:"LYRICS_LOADING",uri:e}),(async e=>{const n=r().from(e);return(await D.Zz.getSEOTrackLyrics(I.b.getInstance(),n.getBase62Id())).body})(e).then((n=>{l({type:"LYRICS_LOADED",uri:e,response:n})})).catch((()=>{l({type:"LYRICS_ERROR",uri:e})})),R)},O="_WZNTY8cs6JMVcAp9j8A",P="br3AcUgf2WazXovcTr0L",M=({padded:e})=>a.createElement(A.Dy,{as:"p",dir:"auto",variant:"finale",className:`${O} ${e?P:""}`},"Lyrics powered by Musixmatch."),B=({uri:e})=>{const{status:n}=x(e);return n!==L.LOADED?null:a.createElement(M,null)};var _=i(4383),G=i(84242),Y=i(8247),z=i(55773),Z=i(16526),W=i(91797);const $=e=>{const[n,i,a]=(0,z.j)([Z.k.RtpHoldoutSeoVariant,Z.k.RtpHoldoutSeoControl,Z.k.RtpLyricsHoldoutCookie],e);return{enableRtpSeoVariantOverride:n,enableRtpSeoControlOverride:i,enableRtpLyricsCookieOverride:a}},j=({remoteConfigValue:e,location:n})=>{const{enableRtpLyricsCookieOverride:i}=$(n);return i||e===Y.JG.VARIANT},H=({remoteConfigValue:e,trackId:n,seoExperiment:i,location:a})=>{const{isSeoVariant:t,isSeoControl:l}=(({location:e,trackId:n,seoExperiment:i})=>{const{enableRtpSeoVariantOverride:a,enableRtpSeoControlOverride:t}=$(e);return{isSeoVariant:(0,W.sB)(i,n)||a,isSeoControl:(0,W.TM)(i,n)||t}})({location:a,trackId:n,seoExperiment:i}),d=j({remoteConfigValue:e,location:a});return{isSeoVariant:t,isSeoControl:l,isCookieVariant:!t&&!l&&d}};var q=i(23410),K=i(56802),J=i(45623),Q=i(82789),X=i(33607),ee=i(8271);function ne(){const e=(0,s.W6)(Y.Um,{loadingValue:null}),n=(0,t.v9)((e=>e.session?.user?.id)),i=(0,ee.s4)();(0,a.useEffect)((()=>{if(!e)return;const a={category:"multivisit_exposure_event",action:"render",label:"dwp-multivisit",os:(0,X.y)(),variant:e};i.send(n?(0,Q.x)(a):(0,J.k)(a))}),[i,e,n])}var ie=i(80322),ae=i(4236),te=i(94321),le=i(61946),de=i(29255),re=i(72627),se=i(87462),oe=i(67892),me=i(57060),ce=i(70880),ke=i(42922),ue=i(7073),ve=i(34722),Se=i(19480),Ne=i(29464);const pe=({artistName:e,artistId:n,artistUri:i,className:t,releases:l})=>l?a.createElement(ke.ZP,{value:"shelf/releases"},a.createElement(Se.P,{total:10,title:o.ag.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,ve.GJ)(n)}:discography:${ue.VZ.Album.toLowerCase()}`,seeAllLabel:o.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:t},l.items.map(((e,n)=>a.createElement(Ne.E,{album:e,index:n,artistURI:i,key:e.uri}))))):null;var ge=i(55095);const ye="JtmUDerSLCaN8LuQv9tM",Fe="mQtVA857h95uvEmY9SPP",Ee="bObO_7Z_b1atmqMnYiU2",be="vHqxBD3S0NJpGMsVRwHT",he="pxMz7QGxCF9LYKHJzOlY",fe="PTVcqp5lumB25L7FY7ai",Ae="DqqPRJJPXjVNE52h_cPt";var Ce=i(26375),Le=i(48528),Te=i(94184),Ie=i.n(Te),De=i(44887),Re=i(42781),we=i(7469);let Ve;!function(e){e.SMALL="small",e.LARGE="large"}(Ve||(Ve={}));const Ue=({art:e,disabled:n=!1,LinkComponent:i,name:t,size:d=Ve.SMALL,type:s,uri:m})=>{const c=e?[e]:[],k=d===Ve.SMALL?(0,Le.R)(s):function(e){switch(e){case Ce.albumType.SINGLE:return o.ag.get("track-page.from-the-single");case Ce.albumType.EP:return o.ag.get("track-page.from-the-ep");case Ce.albumType.COMPILATION:return o.ag.get("track-page.from-the-compilation");case Ce.albumType.ALBUM:default:return o.ag.get("track-page.from-the-album")}}(s),u=(0,l.k6)();return a.createElement("div",{className:Ie()(ye,{[Ee]:d===Ve.SMALL,[Fe]:n})},a.createElement("div",{className:be},a.createElement(De.O,{images:c,size:we.m$.SIZE_80,title:t,type:Re.p.ALBUM})),a.createElement("div",{className:he},a.createElement(A.Dy,{variant:d===Ve.SMALL?"minuetBold":"finale"},k),a.createElement(i,{to:m},a.createElement(A.Dy,{as:"div",className:fe,variant:"balladBold",dir:"auto"},t))),a.createElement("div",{onClick:()=>{u.push(r().from(m).toURLPath(!0))},className:Ae}))};var xe=i(98759),Oe=i(98984);const Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackFields"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbum"}}]}},{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"singles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"trackItem"}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"trackItem"}}]}},{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albums"}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"topTracks"}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackNumber"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbumCoverArt"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackAlbumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumGroupPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albums"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbum"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"topTracks"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"topTrack"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"topTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbumCoverArt"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audioPreviews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]};var Me=i(2438),Be=i(75987);const _e="oTRKhYD0MZlNPm66W3Tw",Ge="sc95MwPalcHwYGZ7j3xN",Ye="zrCZCfYv4zZiB1HYv9i8",ze="RnlxIDmWcYTbbwNSJNjA",Ze="SHkxfN1vy0wpRMP1hK7I",We="COXBS6zLyyxKNYuEAzjZ",$e="sR5IpdOUvoUGYKlC9Dk1",je="FHMr3WxshoYjZ7jd3YwI",He="Evcwc4KM2tf9xrLbfB8B",qe=({richTrack:e})=>{const n=(0,l.k6)(),i=(0,a.useCallback)((()=>new URLSearchParams(n.location.search.slice(1)).get("highlight")||""),[n.location.search])(),{tracklistRef:t}=(0,Be.W)(),d=e.album,r=(0,ie.Y)(d.uri),{usePlayContextItem:s}=(0,G.n)({uri:r},{featureIdentifier:"album"}),o=(0,a.useMemo)((()=>({items:[],total_count:0})),[]);return d?a.createElement("div",{ref:t,className:$e},a.createElement(Me.L,{ariaLabel:d.name,nrTracks:d.tracks.totalCount,albumUri:d.uri,highlightUri:i,discs:o,usePlayContextItem:s,hasHeaderRow:!1})):null},Ke=a.memo((function(){const{trackId:e}=(0,l.UO)(),n=r().trackURI(e).toURI(),i=(t={uri:n},(0,Oe.a)(Pe,t,d));var t,d;const s=(0,ae.k)();if(i.loading||!i.data?.trackUnion)return a.createElement(p.h,{hasError:null!==i.error,errorMessage:o.ag.get("track-page.error")});const m=i.data.trackUnion,c=m.album,k=c?.playability?.playable,u=m.artistsWithRoles.items[0]?.artist,v=u?.discography?.topTracks,S=u?.discography?.popularReleasesAlbums,N=u?.discography?.albums,g=u?.discography?.singles,y={artistId:u?.id,artistName:u?.profile?.name,artistUri:u?.uri};return a.createElement("div",{"data-testid":"rich-track"},a.createElement(ce.j,{artistName:u?.profile?.name,artistUri:u?.uri,headerClassName:He,rowClassName:Ze,topTracks:v,topTracksTransformer:xe.X7,uri:m.uri}),a.createElement(pe,(0,se.Z)({className:je,releases:S},y)),a.createElement(me.R,(0,se.Z)({albums:N,className:je},y)),a.createElement(ge.y,(0,se.Z)({className:je,singles:g},y)),a.createElement(Ue,{art:c.coverArt?c.coverArt.sources[0]:void 0,disabled:!k||!s,LinkComponent:oe.Z,name:c.name,type:c.type,size:Ve.LARGE,uri:c.uri}),a.createElement(qe,{richTrack:m}))}));var Je=i(21770),Qe=i(99450);const Xe="QhDsXG1Gmo7XmQWLggAO",en="bZgWQj7UxvK8GYKWDA7N",nn="AW61P3tnW5cKJCWtbhFh",an=({buttonText:e,onSecondaryButtonClick:n,onPrimaryButtonClick:i,secondaryButtonText:t,text:l})=>a.createElement("div",{className:Xe,"data-testid":"static-activation-trigger"},a.createElement(A.Dy,{className:en,variant:"cello"},l),a.createElement("div",{className:nn},a.createElement(Je.oM,{onClick:n,semanticColor:"textBase"},t),a.createElement(Qe.D,{onClick:i,colorSet:"invertedLight"},e))),tn="FTTfxsCa1sJIu1Y7utDO",ln="vrjrGtquvKnX8rzOuAaA",dn="HeVBalD_EHmtuqfIkkjo",rn="GQqQDXMybjyriRQKH_ID",sn="DX4i2V_0jaKraBkfcDnR",on="zCVFaVQz6MUyNwqjGS4c",mn="USV2e_90ZCdBCH9Dr5Vw",cn="PhpDpIcERAEMvFD0NvPk";let kn;!function(e){e.SMALL="small",e.LARGE="large"}(kn||(kn={}));const un=e=>{const{disabled:n,images:i,LinkComponent:t,name:d,size:s,uri:m}=e,c=s===kn.SMALL,k=(0,l.k6)();return a.createElement("div",{className:Ie()(ln,{[dn]:n}),"data-testid":"track-artist-link-card"},a.createElement(De.O,{shape:De.K.CIRCLE,images:i,size:we.m$.SIZE_80,title:d,type:Re.p.ARTIST}),a.createElement("div",{className:Ie()(sn,{[on]:c})},a.createElement(A.Dy,{variant:"minuetBold",className:rn},o.ag.get("card.tag.artist")),a.createElement(t,{to:m},a.createElement(A.Dy,{as:"div",dir:"ltr",className:mn,variant:"balladBold"},d))),a.createElement("div",{onClick:()=>{k.push(r().from(m).toURLPath(!0))},className:cn}))},vn=({size:e=kn.LARGE,disabled:n=!1,...i})=>a.createElement("div",{className:tn},i.artists.map((t=>a.createElement(un,{key:t.id,name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:i.LinkComponent,disabled:n}))));var Sn=i(54675);const Nn={container:"kyenoI4FJbhfBk7_5hWj",title:"o7c89JiqZPfyQtLPjgrK"},pn=({lines:e=[]})=>0===e.length?null:a.createElement("div",{className:Nn.container},a.createElement(A.Dy,{as:"h2",variant:"canon",semanticColor:"textBase",className:Nn.title},o.ag.get("web-player.lyrics.title")),e.map((({words:e},n)=>a.createElement(A.Dy,{as:"p",dir:"auto",variant:"ballad",key:`lyrics-seo-line-${n}`,className:Nn.lyric},e)))),gn=({uri:e})=>{const{status:n,data:i}=x(e);return n!==L.LOADED?null:a.createElement(pn,{lines:i?.lyrics.lines})},yn=e=>{const{albumArtists:n,columnCount:i,uri:l,isRtpEnabled:d,isLyricsEnabled:r}=e,s=i-2,m={"--column-count":i,"--left-column-end":s-2,"--right-column-start":s},{isAnonymous:c}=(0,t.v9)(de.Gg),k=(0,ae.k)(),{data:u,status:v}=x(l,c),S=r&&!!u&&v!==L.UNAVAILABLE||r&&c;return a.createElement(a.Suspense,{fallback:null},S&&a.createElement("div",{className:Ie()(Ye,{[ze]:i>5}),style:{...m}},c?a.createElement(an,{buttonText:o.ag.get("sign_up"),secondaryButtonText:o.ag.get("login"),text:o.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:Sn.L6,onSecondaryButtonClick:Sn.h$}):a.createElement(gn,{uri:l})),d&&a.createElement("div",{className:Ie()(_e,{[Ge]:i>5&&S}),style:{...m}},a.createElement(vn,{artists:n,LinkComponent:oe.Z,disabled:!k})))},Fn=(e,n,i)=>`${e} - ${i?"song and lyrics by":"song by"} ${n.map((e=>e.name)).join(o.ag.getSeparator())}`,En=({uri:e,track:n})=>{const i=(0,K.o)(),d=(0,ae.k)(),r=(0,l.TH)(),{isAnonymous:p}=(0,t.v9)(de.Gg),A=(0,t.v9)(de.n5),C=(0,t.v9)(te.rZ),{artistsWithRoles:L,album:T,duration:I,name:D}=n,R=T.coverArt,w=T.copyright.items,V=T.courtesyLine,x=T.date?.isoString,O=R?.extractedColors?.colorRaw.hex,P=(R?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),M=L.items.map((e=>({name:e.artist.profile.name,images:(e.artist.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.artist.uri,id:e.artist.uri}))),z=(0,t.v9)(le.$Y),Z=(0,s.W6)(Y.fp),W={trackId:n.id,seoExperiment:z,remoteConfigValue:Z,isAnonymous:p,location:r},{isInHoldoutGroup:$,showRichTrack:j}=(({trackId:e,seoExperiment:n,remoteConfigValue:i,location:a})=>{const{isSeoVariant:t,isSeoControl:l,isCookieVariant:d}=H({remoteConfigValue:i,trackId:e,seoExperiment:n,location:a});return{showRichTrack:t||d,isInHoldoutGroup:t||l}})(W),{showLyricsTitleTag:J,showLyrics:Q}=(({trackId:e,seoExperiment:n,remoteConfigValue:i,isAnonymous:a,location:t})=>{const{isSeoVariant:l,isSeoControl:d,isCookieVariant:r}=H({remoteConfigValue:i,trackId:e,seoExperiment:n,location:t}),s=!a&&(l||d);return{showLyricsTitleTag:s,showLyrics:s||r}})(W),X=n.playability.playable,ee=(0,ie.Y)(e),{togglePlay:re,isPlaying:se}=(0,G.n)({uri:ee},{featureIdentifier:"track"}),[oe,me]=(0,_.Z)(e),ce=(0,a.useCallback)((async()=>{i({targetUri:e,intent:oe?"unsave":"save",type:"click"});try{await me(!oe)}catch{}}),[i,e,oe,me]);(0,q.M)({category:"rtp_lyrics_cookie_test",action:"remote-config-response",remoteConfigProperty:Y.fp,...$&&{defaultVariant:Y.JG.DEFAULT},label:"dwp",context:e,country:A?C:"",spt:!$,isAnonymous:p}),ne();const ke=(0,a.useCallback)((()=>{const e=Fn(n.name,M,!0),i=Fn(n.name,M,!1);return J?e:i}),[M,J,n.name]);return a.createElement("section",{"data-testid":"track-page"},a.createElement(u.$,null,ke()),a.createElement(v.gF,{backgroundColor:O},a.createElement(S.W,null,a.createElement(g.$,{size:E.qE.sm,onClick:()=>re(),disabled:!X,isPlaying:se,uri:e}),a.createElement(N.i,{text:D,dragUri:e,dragLabel:D})),a.createElement(b._P,{menu:a.createElement(k.$,{uri:e})},a.createElement(v.Oz,{dragUri:e,images:P,name:D,placeholderType:"album"})),a.createElement(v.sP,null,a.createElement(v.dy,{small:!0,uppercase:!0},o.ag.get("song")),a.createElement(b._P,{menu:a.createElement(k.$,{uri:e})},a.createElement(v.xd,{dragUri:e,dragLabel:D},D)),a.createElement(v.QS,{creators:M,releaseDate:x,durationMilliseconds:I.totalMilliseconds,isTrack:!0}))),a.createElement(y.o,{backgroundColor:O},a.createElement(y.F,null,a.createElement(v.rn,null,a.createElement(g.$,{onClick:()=>re(),isPlaying:se,disabled:!X,size:E.qE.lg,uri:e})),a.createElement(v.rn,null,a.createElement(F.H,{isAdded:!!oe,onClick:ce,disabled:!d,size:F.q.md})),a.createElement(m.o,{uri:e,isFollowing:!!oe,canDownload:d,onFollow:ce,size:m.q.md}),a.createElement(b.yj,{menu:a.createElement(k.$,{uri:e})},a.createElement(c.z,{label:o.ag.get("more.label.context",D)})))),a.createElement(U,null,a.createElement("div",{className:"contentSpacing"},a.createElement("div",{className:Ze},a.createElement(f.T,{render:n=>a.createElement(yn,{albumArtists:M.slice(0,1),columnCount:n,uri:e,isRtpEnabled:j,isLyricsEnabled:Q})})),j&&a.createElement(Ke,null)),a.createElement("div",{className:"contentSpacing"},a.createElement("div",{className:We},a.createElement(h.k,{copyrights:w,courtesyLine:V}),!p&&Q&&a.createElement(B,{uri:e})))))},bn=a.memo((function(){const{trackId:e}=(0,l.UO)(),n=r().trackURI(e).toURI(),i=(0,re.QN)({uri:n});return i.loading||"Track"!==i.data?.trackUnion?.__typename?a.createElement(p.h,{hasError:null!==i.error,errorMessage:o.ag.get("track-page.error")}):a.createElement(En,{uri:n,track:i.data.trackUnion})}))},72627:(e,n,i)=>{i.d(n,{QN:()=>l});var a=i(98984);const t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackFields"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackNotFound"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackAlbum"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackAlbumCoverArt"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackAlbumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackNotFound"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]},l=(e,n)=>(0,a.a)(t,e,n)},75987:(e,n,i)=>{i.d(n,{W:()=>t});var a=i(70131);function t(){const{ref:e,inView:n}=(0,a.YD)({initialInView:!1}),{ref:i,inView:t}=(0,a.YD)({initialInView:!1});return{titleRef:e,tracklistRef:i,displayTopBar:!n&&t}}}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map